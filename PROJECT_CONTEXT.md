# Learnist.AI - é¡¹ç›®å®Œæ•´ä¸Šä¸‹æ–‡æ–‡æ¡£

> **ç”Ÿæˆæ—¥æœŸ**: 2025å¹´12æœˆ1æ—¥  
> **ç›®çš„**: ä¸ºæ–°çš„ Gemini å¯¹è¯æä¾›å®Œæ•´çš„é¡¹ç›®èƒŒæ™¯å’Œå¼€å‘å†å²

---

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

### é¡¹ç›®åç§°
**Learnist.AI** - AIé©±åŠ¨çš„æ™ºèƒ½å­¦ä¹ åŠ©æ‰‹

### æ ¸å¿ƒå®šä½
ä¸€æ¬¾é¢å‘ä¸­å­¦ç”Ÿçš„**æ‹ç…§æœé¢˜ + AIè¾…å¯¼ + åˆ·é¢˜ç»ƒä¹ **çš„Flutterç§»åŠ¨åº”ç”¨ã€‚

### æŠ€æœ¯æ ˆ
- **æ¡†æ¶**: Flutter 3.19.0+
- **è¯­è¨€**: Dart 3.9.2+
- **æ•°æ®åº“**: Supabase (åç«¯) + SQLite/Hive (æœ¬åœ°ç¼“å­˜)
- **AIæœåŠ¡**: OpenAI GPT + Google ML Kit (OCR)
- **çŠ¶æ€ç®¡ç†**: Provider + ValueNotifier
- **æŒä¹…åŒ–**: SharedPreferences

### ç›®æ ‡ç”¨æˆ·
- åˆé«˜ä¸­å­¦ç”Ÿ (Grade 9-12)
- å­¦ç§‘: æ•°å­¦ã€ç‰©ç†ã€åŒ–å­¦ã€å¥¥æ•°

---

## ğŸ—ï¸ æ ¸å¿ƒåŠŸèƒ½æ¶æ„

### 1. **æ‹ç…§æœé¢˜ (Camera Page)**
- **Jade Apertureè®¾è®¡**: ä»¿ç”Ÿ"ç‰çŸ³å…‰åœˆ"å‘¼å¸åŠ¨ç”»
- **BreachåŠ¨ç”»**: ç‚¹å‡»åå…‰åœˆå±•å¼€ï¼Œå¯åŠ¨ç›¸æœº
- **æ™ºèƒ½è£å‰ª**: æ‹ç…§åå¯è°ƒæ•´é¢˜ç›®åŒºåŸŸï¼ˆ8æ–¹å‘æ‹–æ‹½ï¼‰
- **ç§‘ç›®é€‰æ‹©**: æ•°å­¦/ç‰©ç†/åŒ–å­¦/å¥¥æ•°ç§‘ç›®åˆ‡æ¢å™¨
- **å¤šè¯­è¨€æ”¯æŒ**: ä¸­/è‹±/æ—¥/è¥¿ 4è¯­è¨€çƒ­åˆ‡æ¢

### 2. **é¢˜åº“ç»ƒä¹  (Question Bank Page)**
- **ä¸‰æ­¥å‘å¯¼**: ç§‘ç›®é€‰æ‹© â†’ å¹´çº§é€‰æ‹© â†’ ä¸»é¢˜é€‰æ‹©
- **å¤ä»‡æ¨¡å¼**: é”™é¢˜å›é¡¾ä¸“ç”¨å…¥å£ï¼ˆæ©™è‰²å¡ç‰‡ï¼‰
- **çŸ¥è¯†å›¾è°±**: åŸºäºLEARNIST_SYLLABUSå¸¸é‡çš„é¢˜åº“åˆ†ç±»

### 3. **ç«æŠ€åœº (Arena Page)**
- **åŠ¨æ€é¢˜ç›®ç”Ÿæˆ**: æ ¹æ®ç§‘ç›®/å¹´çº§/ä¸»é¢˜ç”Ÿæˆé¢˜ç›®
- **Comboç³»ç»Ÿ**: è¿ç»­ç­”å¯¹æ˜¾ç¤ºComboå€æ•°
- **Review Mode**: ç‰¹æ®Šçš„é”™é¢˜å¤ä¹ æ¨¡å¼ï¼ˆæ©™è‰²Bannerï¼‰
- **AIå¯¼å¸ˆ**: é›†æˆAITutorSheetåº•éƒ¨å¼¹çª—

### 4. **è§£é¢˜é¡µ (Solving Page)**
- **Glass Layeræ¶æ„**: é¢˜ç›®å±‚ â†’ æ¶‚é¸¦å±‚ â†’ è®¡ç®—å™¨å±‚
- **Braunè®¡ç®—å™¨**: 4ç§å¸ƒæ‹‰æ©é£æ ¼è®¡ç®—å™¨ï¼ˆè§¦è§‰åé¦ˆï¼‰
- **ScribblePad**: æ‰‹å†™æ¼”ç®—æ¿ï¼ˆä¿å­˜/æ¸…é™¤/æ’¤é”€ï¼‰
- **BINGOåº†ç¥**: ç­”å¯¹åé‡‘å¸é›¨åŠ¨ç”» + XPå¥–åŠ±

### 5. **ä¸ªäººé¡µ (Profile Page)**
- **å®æ—¶æ•°æ®**: åŸºäºUserProgressServiceçš„çœŸå®è¿›åº¦
- **æŠ€èƒ½é›·è¾¾å›¾**: fl_chartå®ç°çš„5ç»´èƒ½åŠ›å›¾
- **ç­‰çº§ç³»ç»Ÿ**: 7çº§æ®µä½ï¼ˆNewbie â†’ Ultimate Sageï¼‰
- **è¯ä¹¦å¯¼å‡º**: (åŠŸèƒ½é¢„ç•™)

---

## ğŸ¨ è®¾è®¡ç³»ç»Ÿ

### è§†è§‰æ ‡è¯† (VI)
- **ä¸»è‰²**: WeChat Green `#07C160` (å…¨å±€ç»Ÿä¸€)
- **èƒŒæ™¯**: `#F5F7FA` (æµ…ç°)
- **æ·±è‰²æ–‡å­—**: `#1E293B`
- **è¾…åŠ©è‰²**: `#64748B` (ç°è‰²)ã€`#FFA500` (æ©™è‰²)

### åŠ¨ç”»è§„èŒƒ
- **å‘¼å¸åŠ¨ç”»**: 2000mså¾ªç¯ï¼Œ1.0 â†” 1.05ç¼©æ”¾
- **BreachåŠ¨ç”»**: 300msï¼ŒCurves.easeOutCubic
- **Loading**: 800msæ¨¡æ‹Ÿç½‘ç»œå»¶è¿Ÿ
- **BINGO**: 3ç§’é‡‘å¸é›¨ + è§¦è§‰åé¦ˆ

### ç»„ä»¶åº“
- **BraunCalculator**: 4ç§è®¡ç®—å™¨æ ·å¼
- **ScribblePad**: æ¶‚é¸¦æ¿ç»„ä»¶
- **OnboardingOverlay**: é¦–æ¬¡å¼•å¯¼æµ®å±‚
- **AITutorSheet**: AIå¯¼å¸ˆåº•éƒ¨å¼¹çª—

---

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
lib/
â”œâ”€â”€ main.dart                          # å…¥å£ + åº•éƒ¨å¯¼èˆª
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ app_camera_page.dart          # æ‹ç…§é¡µï¼ˆæ ¸å¿ƒé¡µé¢ï¼‰
â”‚   â”œâ”€â”€ app_question_bank_page.dart   # é¢˜åº“å‘å¯¼
â”‚   â”œâ”€â”€ app_question_arena_page.dart  # ç«æŠ€åœº
â”‚   â”œâ”€â”€ app_profile_page.dart         # ä¸ªäººä¸»é¡µ
â”‚   â”œâ”€â”€ solving_page.dart             # è§£é¢˜é¡µ
â”‚   â””â”€â”€ camera/
â”‚       â””â”€â”€ camera_painters.dart      # Jade Apertureç»˜åˆ¶
â”œâ”€â”€ widgets/
â”‚   â”œâ”€â”€ braun_calculator.dart         # è®¡ç®—å™¨ç»„ä»¶
â”‚   â”œâ”€â”€ scribble_pad.dart             # æ¶‚é¸¦æ¿
â”‚   â”œâ”€â”€ onboarding_overlay.dart       # å¼•å¯¼æµ®å±‚
â”‚   â””â”€â”€ aitutor_sheet.dart            # AIå¯¼å¸ˆå¼¹çª—
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ user_progress_service.dart    # ç”¨æˆ·è¿›åº¦ï¼ˆXP/ç­‰çº§/è¿å‡»ï¼‰
â”‚   â””â”€â”€ translation_service.dart      # å¤šè¯­è¨€ç¿»è¯‘
â”œâ”€â”€ models/                            # æ•°æ®æ¨¡å‹
â”œâ”€â”€ constants/
â”‚   â””â”€â”€ syllabus.dart                 # çŸ¥è¯†å›¾è°±ï¼ˆç§‘ç›®/å¹´çº§/ä¸»é¢˜ï¼‰
â””â”€â”€ theme/
    â”œâ”€â”€ app_theme.dart                # WeChaté£æ ¼ä¸»é¢˜
    â””â”€â”€ theme.dart                    # æ—§ç‰ˆä¸»é¢˜ï¼ˆå·²å¼ƒç”¨ï¼‰
```

---

## ğŸš€ å¼€å‘å†å² (æŒ‰æ—¶é—´å€’åº)

### **Day 7: å¤šè¯­è¨€ç³»ç»Ÿ (2025-12-01)**
#### å®ç°å†…å®¹
- âœ… åˆ›å»º `TranslationService` (Trç±»)
- âœ… æ”¯æŒ4è¯­è¨€: ä¸­æ–‡ã€è‹±è¯­ã€æ—¥è¯­ã€è¥¿ç­ç‰™è¯­
- âœ… 50+ç¿»è¯‘é”®è¦†ç›–å…¨åº”ç”¨
- âœ… ValueNotifierçƒ­åˆ‡æ¢ï¼ˆæ— éœ€é‡å¯ï¼‰
- âœ… Cameraé¡µæ·»åŠ è¯­è¨€åˆ‡æ¢å™¨ï¼ˆPopupMenuButton + Flag Emojiï¼‰
- âœ… main.dartåº•éƒ¨å¯¼èˆªæ ‡ç­¾åŠ¨æ€åŒ–

#### æŠ€æœ¯äº®ç‚¹
```dart
// çƒ­åˆ‡æ¢æ ¸å¿ƒ
ValueListenableBuilder<String>(
  valueListenable: Tr.currentLocale,
  builder: (context, locale, child) => MaterialApp(...),
)

// ä½¿ç”¨æ–¹å¼
Text(Tr.g('nav_scan'))  // è‡ªåŠ¨æ ¹æ®å½“å‰è¯­è¨€è¿”å›ç¿»è¯‘
```

---

### **Day 6: é¦–æ¬¡å¼•å¯¼ç³»ç»Ÿ (2025-11-30)**
#### å®ç°å†…å®¹
- âœ… åˆ›å»º `OnboardingOverlay` 3æ­¥å¼•å¯¼
  - Step 1: ä¸­å¤®å…‰åœˆï¼ˆå…¨çŸ¥ä¹‹çœ¼ï¼‰
  - Step 2: åº•éƒ¨å¯¼èˆªArena
  - Step 3: é¡¶éƒ¨è®¡ç®—å™¨
- âœ… SharedPreferencesæŒä¹…åŒ– `hasSeenOnboarding`
- âœ… Spotlightæ•ˆæœ + Pulsing RingåŠ¨ç”»
- âœ… DebugåŠŸèƒ½: é•¿æŒ‰ä¸­å¤®åŒºåŸŸé‡ç½®å¼•å¯¼

#### è§†è§‰æ•ˆæœ
- é»‘è‰²åŠé€æ˜é®ç½© (85% opacity)
- ç»¿è‰²å…‰æ™• (WeChat Green 30% opacity)
- åŠ¨æ€è¿›åº¦ç‚¹æŒ‡ç¤ºå™¨
- SkipæŒ‰é’®ï¼ˆå³ä¸Šè§’ï¼‰

---

### **Day 5: é—®é¢˜è·¯ç”±ç³»ç»Ÿ (2025-11-30)**
#### å®ç°å†…å®¹
- âœ… é‡æ„ `AppQuestionArenaPage` æ„é€ å‡½æ•°
  - æ–°å‚æ•°: `subjectId`, `grade`, `topic`, `questionLimit`
- âœ… æ™ºèƒ½Mocké¢˜ç›®ç”Ÿæˆå™¨
  - æ•°å­¦é¢˜åº“ (6é¢˜)
  - ç‰©ç†é¢˜åº“ (5é¢˜)
  - åŒ–å­¦é¢˜åº“ (4é¢˜)
  - å¥¥æ•°é¢˜åº“ (3é¢˜)
  - å¤ä¹ é¢˜åº“ (2é¢˜)
- âœ… Review Modeä¸“ç”¨Bannerï¼ˆæ©™è‰²æ¸å˜ï¼‰
- âœ… LoadingçŠ¶æ€ (800msæ¨¡æ‹Ÿå»¶è¿Ÿ)
- âœ… è¿æ¥Question Bank â†’ Arenaæ•°æ®æµ

#### æ•°æ®æµ
```
QuestionBank (é€‰æ‹©ç§‘ç›®/å¹´çº§/ä¸»é¢˜)
    â†“
Navigator.push with params
    â†“
Arena._fetchQuestions()
    â†“
_generateQuestionsBySubject(subjectId, grade, topic, limit)
    â†“
æ˜¾ç¤ºé¢˜ç›® + å¼€å§‹ç»ƒä¹ 
```

---

### **Day 4: ç”¨æˆ·è¿›åº¦æŒä¹…åŒ– (2025-11-30)**
#### å®ç°å†…å®¹
- âœ… åˆ›å»º `UserProgressService` (Singleton)
- âœ… æ•°æ®ç‚¹:
  - `totalXP`: æ€»ç»éªŒå€¼
  - `questionsSolved`: ç´¯è®¡ç­”é¢˜æ•°
  - `currentStreak`: è¿ç»­å­¦ä¹ å¤©æ•°
  - `lastStudyDate`: æœ€åå­¦ä¹ æ—¥æœŸ
  - `rankTitle`: ç­‰çº§ç§°å·ï¼ˆåŠ¨æ€è®¡ç®—ï¼‰
- âœ… 7çº§æ®µä½ç³»ç»Ÿ:
  ```
  Newbie Scholar     â†’ 0 XP
  Bronze Learner     â†’ 500 XP
  Silver Scholar     â†’ 1,000 XP
  Gold Achiever      â†’ 2,500 XP
  Platinum Master    â†’ 5,000 XP
  Diamond Legend     â†’ 10,000 XP
  Ultimate Sage      â†’ 20,000 XP
  ```
- âœ… é›†æˆåˆ°Profile Pageï¼ˆå®æ—¶æ•°æ®ï¼‰
- âœ… é›†æˆåˆ°Solving Pageï¼ˆç­”å¯¹å¥–åŠ±50 XPï¼‰
- âœ… é›†æˆåˆ°Arenaï¼ˆæ¯é¢˜20 XPï¼‰

#### è¿å‡»é€»è¾‘
- åŒä¸€å¤©å¤šæ¬¡å­¦ä¹ : Streakä¸å˜
- è¿ç»­ç¬¬äºŒå¤©å­¦ä¹ : Streak+1
- ä¸­æ–­1å¤©ä»¥ä¸Š: Streaké‡ç½®ä¸º1

---

### **Day 3: å…¨å±€é¢œè‰²æ ‡å‡†åŒ– (2025-11-30)**
#### å®ç°å†…å®¹
- âœ… æ‰«æå¹¶æ›¿æ¢æ—§é¢œè‰²:
  - `#358373` (æ—§ç»¿) â†’ `#07C160` (WeChat Green)
  - `#5FCEB3` (æ—§æµ…ç»¿) â†’ `#07C160`
- âœ… ä¿®æ”¹æ–‡ä»¶:
  - `app_question_bank_page.dart` (7å¤„)
  - `app_question_arena_page.dart` (4å¤„)
- âœ… è¦†ç›–èŒƒå›´:
  - Revenge Modeå¡ç‰‡
  - ç§‘ç›®é€‰æ‹©è¾¹æ¡†
  - å¹´çº§é€‰æ‹©æŒ‰é’®
  - Comboå¾½ç« 
  - æ­£ç¡®ç­”æ¡ˆé«˜äº®
  - Ask TutoræŒ‰é’®

---

### **Day 2: å…³é”®åŠŸèƒ½ä¿®å¤ (2025-11-30)**
#### Critical Fix Batch - 5ä¸ªè‡´å‘½é—®é¢˜
1. **âœ… Question Bankå¯¼èˆªä¿®å¤**
   - é—®é¢˜: Topicé€‰æ‹©åTODOå ä½ç¬¦
   - ä¿®å¤: æ·»åŠ Navigator.pushåˆ°Arena

2. **âœ… Revenge ModeæŒ‰é’®ä¿®å¤**
   - é—®é¢˜: å¡ç‰‡æ— onTap
   - ä¿®å¤: åŒ…è£¹GestureDetectorï¼Œå¯¼èˆªåˆ°Reviewæ¨¡å¼

3. **âœ… Braun Calculatorè¿æ¥**
   - é—®é¢˜: å®¡è®¡è¯¯æŠ¥ï¼ˆå®é™…å·²è¿æ¥ï¼‰
   - éªŒè¯: solving_page.dartå·²æ­£ç¡®é›†æˆ

4. **âœ… LoadingçŠ¶æ€æ·»åŠ **
   - é—®é¢˜: ç­”æ¡ˆéªŒè¯800mså»¶è¿Ÿæ— åé¦ˆ
   - ä¿®å¤: æ·»åŠ _isLoadingæ ‡å¿— + "Checking..."æ˜¾ç¤º

5. **âœ… Cameraé”™è¯¯å¤„ç†**
   - é—®é¢˜: ç›¸æœºåˆå§‹åŒ–å¤±è´¥é™é»˜
   - ä¿®å¤: try-catch + ç”¨æˆ·å¯è§é”™è¯¯UI + RetryæŒ‰é’®

---

### **Day 1: ä¸“ä¸šè§£é¢˜é¡µæ¶æ„ (2025-11-29)**
#### å®ç°å†…å®¹
- âœ… Glass Layerè®¾è®¡:
  ```
  Bottom: é¢˜ç›®å†…å®¹ + AIè§£æ
  Middle: ScribblePadæ¶‚é¸¦å±‚
  Top:    BraunCalculatorè®¡ç®—å™¨
  ```
- âœ… 4ç§Braunè®¡ç®—å™¨:
  - Variant 1: ç»å…¸é»‘ç™½
  - Variant 2: æ·±ç©ºç°
  - Variant 3: é“¶æ²³è“
  - Variant 4: æ™¨æ›¦é‡‘
- âœ… è§¦è§‰åé¦ˆï¼ˆHapticFeedback.mediumImpactï¼‰
- âœ… ç­”æ¡ˆéªŒè¯é€»è¾‘ + BINGOåŠ¨ç”»
- âœ… Confettié‡‘å¸é›¨åº†ç¥
- âœ… RobotçŠ¶æ€æœº (idle/thinking/happy)

---

### **Day 0: é¡¹ç›®åˆå§‹åŒ–**
#### WeChat VIé‡æ„
- âœ… ç»Ÿä¸€ä¸»é¢˜ä¸ºWeChat Green
- âœ… åˆ›å»ºapp_theme.dart
- âœ… Jade Apertureç›¸æœºè®¾è®¡
- âœ… åº•éƒ¨å¯¼èˆª3é¡µæ¶æ„

---

## ğŸ¯ æ ¸å¿ƒæ•°æ®ç»“æ„

### LEARNIST_SYLLABUS
```dart
const List<Subject> LEARNIST_SYLLABUS = [
  Subject(
    id: 'math',
    name: 'Mathematics',
    grades: ['G9', 'G10', 'G11', 'G12'],
    topics: {
      'G9': ['Algebra I', 'Geometry Basics', ...],
      'G10': ['Geometry', 'Quadratic Functions', ...],
      'G11': ['Algebra II', 'Trigonometry', ...],
      'G12': ['Pre-Calculus', 'Calculus AB', ...],
    },
  ),
  Subject(id: 'physics', ...),
  Subject(id: 'chemistry', ...),
  Subject(id: 'olympiad', ...),
];
```

### UserStats Model
```dart
class UserStats {
  final int totalXP;
  final int questionsSolved;
  final int currentStreak;
  final String lastStudyDate;
  final String rankTitle;
}
```

### Translation Keys (ç¤ºä¾‹)
```dart
'nav_scan': {'zh': 'æ‹é¢˜', 'en': 'Scan', 'ja': 'ã‚¹ã‚­ãƒ£ãƒ³', 'es': 'Escanear'}
'home_calc': {'zh': 'è®¡ç®—å™¨', 'en': 'Calc', 'ja': 'é›»å“', 'es': 'Calc'}
```

---

## ğŸ”§ å…³é”®ä¾èµ–

### pubspec.yaml (æ ¸å¿ƒåº“)
```yaml
dependencies:
  flutter:
    sdk: flutter
  
  # æ ¸å¿ƒåŠŸèƒ½
  camera: ^0.11.3
  image_picker: ^1.2.0
  provider: ^6.1.5
  shared_preferences: ^2.5.3
  
  # AI/ML
  google_ml_kit: ^0.16.3
  http: ^1.5.0
  
  # UIç»„ä»¶
  fl_chart: ^1.1.1              # é›·è¾¾å›¾
  confetti: ^0.8.0               # åº†ç¥åŠ¨ç”»
  flutter_math_fork: ^0.7.4      # æ•°å­¦å…¬å¼
  math_expressions: ^2.4.0        # è¡¨è¾¾å¼è®¡ç®—
  
  # æ•°æ®åº“
  sqflite: ^2.4.2
  hive: ^2.2.3
```

---

## ğŸ“Š å½“å‰çŠ¶æ€

### âœ… å·²å®ŒæˆåŠŸèƒ½
- [x] ç›¸æœºæ‹ç…§ + è£å‰ª
- [x] é¢˜åº“å‘å¯¼ + ç«æŠ€åœº
- [x] è§£é¢˜é¡µ + è®¡ç®—å™¨ + æ¶‚é¸¦æ¿
- [x] ç”¨æˆ·è¿›åº¦ç³»ç»Ÿï¼ˆXP/ç­‰çº§/è¿å‡»ï¼‰
- [x] å¤šè¯­è¨€ç³»ç»Ÿï¼ˆä¸­è‹±æ—¥è¥¿ï¼‰
- [x] é¦–æ¬¡å¼•å¯¼
- [x] å…¨å±€WeChat VI

### â³ å¾…å¼€å‘åŠŸèƒ½
- [ ] OCRå›¾ç‰‡è¯†åˆ« (Google ML Kit)
- [ ] AIè§£é¢˜ (OpenAI API)
- [ ] é”™é¢˜æœ¬ç³»ç»Ÿ
- [ ] Supabaseåç«¯é›†æˆ
- [ ] è¯ä¹¦å¯¼å‡º
- [ ] ç¤¾äº¤åˆ†äº«
- [ ] æ¯æ—¥ä»»åŠ¡ç³»ç»Ÿ

### ğŸ› å·²çŸ¥é—®é¢˜
- æ— 

---

## ğŸ¯ ä¸‹ä¸€æ­¥å¼€å‘å»ºè®®

### Priority 1 - OCRé›†æˆ
```dart
// éœ€è¦å®ç°
Future<String> recognizeText(File imageFile) async {
  final inputImage = InputImage.fromFile(imageFile);
  final textRecognizer = TextRecognizer();
  final recognizedText = await textRecognizer.processImage(inputImage);
  return recognizedText.text;
}
```

### Priority 2 - OpenAIè§£é¢˜
```dart
// éœ€è¦å®ç°
Future<QuestionSolution> solveQuestion(String questionText) async {
  final response = await http.post(
    Uri.parse('https://api.openai.com/v1/chat/completions'),
    headers: {'Authorization': 'Bearer $apiKey'},
    body: jsonEncode({
      'model': 'gpt-4',
      'messages': [
        {'role': 'system', 'content': 'ä½ æ˜¯ä¸€ä¸ªæ•°å­¦å¯¼å¸ˆ...'},
        {'role': 'user', 'content': questionText},
      ],
    }),
  );
  // Parse and return solution steps
}
```

### Priority 3 - é”™é¢˜æœ¬
```dart
// éœ€è¦åˆ›å»º
class MistakeBookService {
  Future<void> addMistake(Question q, String userAnswer);
  Future<List<Question>> getMistakes({String? subjectFilter});
  Future<void> markAsReviewed(String questionId);
}
```

---

## ğŸ“ ç¼–ç è§„èŒƒ

### å‘½åçº¦å®š
- **Page**: `app_xxx_page.dart` (æ–°) / `xxx_page.dart` (æ—§)
- **Widget**: `xxx_widget.dart` / `braun_calculator.dart`
- **Service**: `xxx_service.dart`
- **Model**: ç›´æ¥å‘½åå¦‚ `question.dart`, `user.dart`

### çŠ¶æ€ç®¡ç†
- **ç®€å•çŠ¶æ€**: `setState` in StatefulWidget
- **è·¨ç»„ä»¶å…±äº«**: `Provider`
- **å“åº”å¼å•å€¼**: `ValueNotifier` + `ValueListenableBuilder`

### é¢œè‰²ä½¿ç”¨
```dart
const wechatGreen = Color(0xFF07C160);  // ä¸»è‰²
const bgGrey = Color(0xFFF5F7FA);       // èƒŒæ™¯
const darkGrey = Color(0xFF1E293B);     // æ·±è‰²æ–‡å­—
const lightGrey = Color(0xFF64748B);    // æµ…è‰²æ–‡å­—
const orange = Color(0xFFFFA500);       // å¼ºè°ƒè‰²
```

### åŠ¨ç”»æ—¶é•¿
```dart
Duration(milliseconds: 300)   // å¿«é€Ÿäº¤äº’
Duration(milliseconds: 800)   // ä¸­ç­‰ï¼ˆæ¨¡æ‹Ÿç½‘ç»œï¼‰
Duration(milliseconds: 2000)  // æ…¢é€Ÿå¾ªç¯ï¼ˆå‘¼å¸ï¼‰
```

---

## ğŸŒŸ è®¾è®¡äº®ç‚¹

### 1. Jade Aperture (ç‰çŸ³å…‰åœˆ)
- ä»¿ç”Ÿè®¾è®¡ï¼Œæ¨¡æ‹Ÿ"å…¨çŸ¥ä¹‹çœ¼"
- å‘¼å¸åŠ¨ç”» (1.0 â†” 1.05)
- Breachå±•å¼€æ•ˆæœï¼ˆCustomPainterç»˜åˆ¶ï¼‰

### 2. Glass Layeræ¶æ„
- ä¸‰å±‚é€æ˜å åŠ 
- åº•å±‚é¢˜ç›®å¯è§æ€§
- ä¸­å±‚æ¶‚é¸¦é€æ˜åº¦
- é¡¶å±‚è®¡ç®—å™¨æ‚¬æµ®

### 3. è§¦è§‰åé¦ˆ
- æ¯æ¬¡æŒ‰é’®ç‚¹å‡»: `HapticFeedback.mediumImpact()`
- ç­”å¯¹: `HapticFeedback.heavyImpact()`
- ç³»ç»Ÿå£°éŸ³: `SystemSound.play(SystemSoundType.click)`

### 4. çƒ­åˆ‡æ¢å¤šè¯­è¨€
- é›¶å»¶è¿Ÿåˆ‡æ¢
- ValueNotifieré©±åŠ¨
- æ— éœ€é‡å¯åº”ç”¨
- å…¨å±€UIåŒæ­¥æ›´æ–°

---

## ğŸ’¡ å›¢é˜Ÿåä½œå»ºè®®

### ç»™Geminiçš„å»ºè®®
1. **ç†Ÿæ‚‰æ ¸å¿ƒé¡µé¢**: å…ˆè¯» `app_camera_page.dart` å’Œ `solving_page.dart`
2. **ç†è§£æ•°æ®æµ**: QuestionBank â†’ Arena â†’ Solvingçš„å¯¼èˆªé€»è¾‘
3. **éµå¾ªVIè§„èŒƒ**: æ‰€æœ‰æ–°é¢œè‰²å¿…é¡»ä½¿ç”¨ `#07C160`
4. **æµ‹è¯•å¤šè¯­è¨€**: æ–°å¢UIæ–‡æœ¬å¿…é¡»æ·»åŠ ç¿»è¯‘é”®
5. **ä¿æŒåŠ¨ç”»ä¸€è‡´æ€§**: ä½¿ç”¨ç»Ÿä¸€çš„Durationå’ŒCurve

### å¼€å‘å·¥ä½œæµ
```bash
# è¿è¡Œåº”ç”¨
flutter run

# æ£€æŸ¥é”™è¯¯
flutter analyze

# æ ¼å¼åŒ–ä»£ç 
dart format .

# ç”Ÿæˆå›¾æ ‡
flutter pub run flutter_launcher_icons

# æ¸…ç†ç¼“å­˜
flutter clean && flutter pub get
```

---

## ğŸ“ å…³é”®è”ç³»ä¿¡æ¯

- **Repository**: `question-factory` (hanfei8065-jpg)
- **Branch**: `main`
- **Flutter Version**: 3.19.0+
- **Dart Version**: 3.9.2+

---

## ğŸ‰ æ€»ç»“

è¿™æ˜¯ä¸€ä¸ª**åŠŸèƒ½å®Œæ•´ã€è®¾è®¡ç²¾ç¾ã€æ¶æ„æ¸…æ™°**çš„Flutterå­¦ä¹ åº”ç”¨ã€‚

**æ ¸å¿ƒä¼˜åŠ¿**:
- âœ… WeChaté£æ ¼UIï¼ˆç”¨æˆ·ç†Ÿæ‚‰åº¦é«˜ï¼‰
- âœ… 3å±‚Glassæ¶æ„ï¼ˆä¸“ä¸šä¸”ç¾è§‚ï¼‰
- âœ… å®Œæ•´çš„è¿›åº¦ç³»ç»Ÿï¼ˆæ¸¸æˆåŒ–é©±åŠ¨ï¼‰
- âœ… 4è¯­è¨€æ”¯æŒï¼ˆå›½é™…åŒ–å°±ç»ªï¼‰
- âœ… é›¶buildé”™è¯¯ï¼ˆçº¯Dartæ–¹æ¡ˆï¼‰

**ä¸‹ä¸€æ­¥é‡ç‚¹**:
- ğŸ”¥ OCRé›†æˆï¼ˆæ ¸å¿ƒåŠŸèƒ½ï¼‰
- ğŸ”¥ OpenAIè§£é¢˜ï¼ˆæ ¸å¿ƒåŠŸèƒ½ï¼‰
- ğŸ”¥ é”™é¢˜æœ¬ï¼ˆç”¨æˆ·ä»·å€¼ï¼‰

---

**ğŸš€ å‡†å¤‡å¥½ç»§ç»­å¼€å‘äº†å—ï¼Ÿæ¬¢è¿æå‡ºä»»ä½•é—®é¢˜ï¼**
